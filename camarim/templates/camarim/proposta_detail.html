{% extends 'base.html' %}
{% block title %}Proposta #{{ object.id }} - InventarioPro{% endblock %}

{% block content %}
<!-- Header da página -->
<div class="page-header">
  <div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h1>
          <i class='bx bx-file-blank me-2'></i>
          Proposta #{{ object.id }}
        </h1>
        <p class="mb-0">Detalhes da proposta para {{ object.evento.nome }}</p>
      </div>
      <div class="d-flex gap-2">
        <a href="{% url 'camarim:proposta_list' %}" class="btn btn-outline-secondary">
          <i class='bx bx-arrow-back me-1'></i>Voltar
        </a>
        <a href="#" class="btn btn-primary">
          <i class='bx bx-printer me-1'></i>Imprimir
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Informações da proposta -->
<div class="row">
  <div class="col-lg-8">
    <div class="card">
      <div class="card-header">
        <h5 class="mb-0">
          <i class='bx bx-info-circle me-2'></i>
          Informações da Proposta
        </h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <h6 class="text-muted">Evento</h6>
            <p class="mb-3">
              <i class='bx bx-calendar-event me-1'></i>
              {{ object.evento.nome }}
            </p>
          </div>
          <div class="col-md-6">
            <h6 class="text-muted">Data de Criação</h6>
            <p class="mb-3">
              <i class='bx bx-calendar me-1'></i>
              {{ object.data_criacao|date:"d/m/Y H:i" }}
            </p>
          </div>
        </div>
        
        <div class="row">
          <div class="col-md-6">
            <h6 class="text-muted">Valor Total</h6>
            <p class="mb-3">
              <i class='bx bx-money me-1'></i>
              <strong class="text-success fs-5">{{ object.valor_total }}</strong>
            </p>
          </div>
          <div class="col-md-6">
            <h6 class="text-muted">Local do Evento</h6>
            <p class="mb-3">
              <i class='bx bx-map me-1'></i>
              {{ object.evento.local|default:"Não informado" }}
            </p>
          </div>
        </div>
        
        {% if object.descricao %}
        <div class="row">
          <div class="col-12">
            <h6 class="text-muted">Descrição</h6>
            <div class="bg-light p-3 rounded">
              {{ object.descricao|linebreaks }}
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
  
  <div class="col-lg-4">
    <!-- Ações -->
    <div class="card mb-4">
      <div class="card-header">
        <h6 class="mb-0">
          <i class='bx bx-cog me-2'></i>
          Ações
        </h6>
      </div>
      <div class="card-body">
        <div class="d-grid gap-2">
          <a href="#" class="btn btn-warning">
            <i class='bx bx-edit me-1'></i>Editar Proposta
          </a>
          <a href="#" class="btn btn-info">
            <i class='bx bx-copy me-1'></i>Duplicar Proposta
          </a>
          <a href="{% url 'camarim:proposta_delete' object.id %}" class="btn btn-danger">
            <i class='bx bx-trash me-1'></i>Excluir Proposta
          </a>
        </div>
      </div>
    </div>
    
    <!-- Informações do evento -->
    <div class="card">
      <div class="card-header">
        <h6 class="mb-0">
          <i class='bx bx-calendar-event me-2'></i>
          Evento Relacionado
        </h6>
      </div>
      <div class="card-body">
        <h6>{{ object.evento.nome }}</h6>
        {% if object.evento.data_inicial %}
        <p class="text-muted mb-2">
          <i class='bx bx-calendar me-1'></i>
          {{ object.evento.data_inicial|date:"d/m/Y" }}
          {% if object.evento.data_final %}
            - {{ object.evento.data_final|date:"d/m/Y" }}
          {% endif %}
        </p>
        {% endif %}
        {% if object.evento.local %}
        <p class="text-muted mb-2">
          <i class='bx bx-map me-1'></i>
          {{ object.evento.local }}
        </p>
        {% endif %}
        <a href="{% url 'camarim:evento_edit' object.evento.id %}" class="btn btn-sm btn-outline-primary">
          <i class='bx bx-external-link me-1'></i>Ver Evento
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}

